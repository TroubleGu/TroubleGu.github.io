<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ES6 | TroubleGu's Blog</title><meta name="keywords" content="ES6"><meta name="author" content="麻烦顾"><meta name="copyright" content="麻烦顾"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ES6ES6介绍 ES6 ECMAScript 第六版 ​    ECMAScript 是Javascript的一套标准化设置 ​    ES6的内容包括： ​      1.声明变量的方法（let和const） ​      2.变量的结解构赋值 ​      3.扩展运算符 ​      4.数据劫持 箭头函数 ​      5.Set Map ​      6.数组 对象 数值的扩展 ​">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6">
<meta property="og:url" content="http://troublegu.github.io/2022/10/29/ES6/index.html">
<meta property="og:site_name" content="TroubleGu&#39;s Blog">
<meta property="og:description" content="ES6ES6介绍 ES6 ECMAScript 第六版 ​    ECMAScript 是Javascript的一套标准化设置 ​    ES6的内容包括： ​      1.声明变量的方法（let和const） ​      2.变量的结解构赋值 ​      3.扩展运算符 ​      4.数据劫持 箭头函数 ​      5.Set Map ​      6.数组 对象 数值的扩展 ​">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://troublegu.github.io/img/7.jpg">
<meta property="article:published_time" content="2022-10-29T06:22:29.086Z">
<meta property="article:modified_time" content="2022-10-29T06:26:58.907Z">
<meta property="article:author" content="麻烦顾">
<meta property="article:tag" content="ES6">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://troublegu.github.io/img/7.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://troublegu.github.io/2022/10/29/ES6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 麻烦顾","link":"链接: ","source":"来源: TroubleGu's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ES6',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-29 14:26:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="./css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avatar_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/7.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">TroubleGu's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ES6</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-29T06:22:29.086Z" title="发表于 2022-10-29 14:22:29">2022-10-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-29T06:26:58.907Z" title="更新于 2022-10-29 14:26:58">2022-10-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/ES6/">ES6</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>46分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ES6"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h2 id="ES6介绍"><a href="#ES6介绍" class="headerlink" title="ES6介绍"></a>ES6介绍</h2><p> ES6 ECMAScript 第六版</p>
<p>​    ECMAScript 是Javascript的一套标准化设置</p>
<p>​    ES6的内容包括：</p>
<p>​      1.声明变量的方法（let和const）</p>
<p>​      2.变量的结解构赋值</p>
<p>​      3.扩展运算符</p>
<p>​      4.数据劫持 箭头函数</p>
<p>​      5.Set Map</p>
<p>​      6.数组 对象 数值的扩展</p>
<p>​      7.Promise对象</p>
<p>​      8.Generator函数</p>
<h2 id="ES6新增语法"><a href="#ES6新增语法" class="headerlink" title="ES6新增语法"></a>ES6新增语法</h2><h3 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h3><p>​	let和const命令是ES6新增的语法</p>
<p>作用：是用来声明变量 和var的作用一样</p>
<p>let和const的用法注意点几乎一样 只是let在同一作用域内 可以重新赋值 但是不能重复声明</p>
<p>const声明的是常量 声明过后就不能再重新声明或者重新赋值 </p>
<h3 id="let声明的变量"><a href="#let声明的变量" class="headerlink" title="let声明的变量"></a>let声明的变量</h3><p>let声明的变量 只是在let所在的作用域内起作用（变量绑定）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    	 a = <span class="number">456</span>;</span><br><span class="line">    	   <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="comment">//在下面进行let声明</span></span><br><span class="line">       <span class="keyword">let</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//-------------------------&gt;报错</span></span><br></pre></td></tr></table></figure>

<h5 id=""><a href="#" class="headerlink" title=""></a></h5><p><strong>(1) 作用域的问题</strong></p>
<p> 通常情况下 如果需要一个变量在一个规定的作用域内起作用 那么就需要使用function关键字来搭建一个局部作用域</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	 <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line"> &#125;());</span><br></pre></td></tr></table></figure>

<p>但是在ES6的情况下 引入了let 只要存在{} 就可以形成一个块级作用域 不管是if结构 还是for循环结构 只要有{} 存在 即形成了块级作用域</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> s=<span class="number">8</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br></pre></td></tr></table></figure>

<p><strong>(2) var 声明变量 变量提升的问题</strong></p>
<p>需求：在函数调用时 实时的打印出当前的时间</p>
<p>在if结构里面使用var声明 {}没办法形成块级作用域 那么if结构里面的变量声明就会覆盖掉全局的变量声明，所以打印出来的undefined;</p>
<p>解决办法：在if结构里面使用let声明变量 使其在if结构里面形成一个块级作用域</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(time);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="comment">// var time=&quot;明天是端午节&quot;;</span></span><br><span class="line">            <span class="keyword">let</span> time = <span class="string">&quot;明天是端午节&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>

<p><strong>(3) for循环中 循环变量泄露为全局变量的问题</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">      &#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br></pre></td></tr></table></figure>

<p>js语言的一大特性：单线程 同一时间内只做一件事</p>
<p>任务队列：所有的任务都需要排队 前面的执行完 才会执行后面的任务</p>
<p>事件循环：主线程会不断循环的去任务队列里面读取任务（Event Loop）当遇到异步任务完成 或者某个事件被触发</p>
<p>那么相应的回调函数 或者 函数体 就会被拉到主线程里面去执行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br></pre></td></tr></table></figure>

<h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><p>在ES6中 按照一定的模式 从数组中提取数值 对对应的变量进行赋值的操作 就叫做解构赋值<br>本质上讲 解构赋值 就是模式匹配</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>[a,b,c]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c); <span class="comment">//1 2 3</span></span><br></pre></td></tr></table></figure>

<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>1.如果想要解构赋值成功 那么就必须保证两边的模式完全一样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>[a,b,c]=[<span class="number">1</span>,[<span class="number">2</span>],&#123;<span class="attr">name</span>:<span class="string">&quot;lucy&quot;</span>&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c); <span class="comment">//1 Array(1) 0: 2   Object &#123;name:&quot;lucy&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p>2.如果解构不成功 那么变量的值就等于undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">left[r]=[];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r); <span class="comment">//undefined 这个就像var 声明了变量之后 不进行赋值</span></span><br><span class="line"></span><br><span class="line">left[s,t]=[<span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s,t) <span class="comment">//3,undefined 这个也是属于解构不成功 因为数值不够</span></span><br></pre></td></tr></table></figure>

<p>3.不完全解构的情况下 也可以进行解构赋值 只是后面放数值的数组都有多的数字<br>不完全解构 ：指的是等号左右两边模式一样 但是只匹配到右边的一部分数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>[x,y]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,y); <span class="comment">//1 2</span></span><br></pre></td></tr></table></figure>

<p>4.如果等号右边不是数组 那么就会报错 因为模式一样</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a><strong>注意点</strong></h3><p>1.解构赋值允许设置默认值 但是如果要启用默认值 那么这个变量的值就必须严格等于undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>[a,b]=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span>[a,b=<span class="string">&quot;abc&quot;</span>]=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b); <span class="comment">//1 2</span></span><br><span class="line"><span class="keyword">let</span>[a,b=<span class="string">&quot;abc&quot;</span>]=[<span class="number">1</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b); <span class="comment">//1  &quot;abc&quot;</span></span><br><span class="line"><span class="keyword">let</span>[a,b=<span class="string">&quot;abc&quot;</span>]=[<span class="number">1</span>,<span class="literal">null</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b); <span class="comment">//1 &quot;null&quot;</span></span><br></pre></td></tr></table></figure>

<p>2.如果设置的默认是一个表达式 那么这个表达式只是在需要启用默认值的时候才会运算</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">        <span class="comment">// return 123</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span>[s=<span class="title function_">fn</span>()]=[<span class="number">12</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//12</span></span><br><span class="line"><span class="keyword">let</span>[s=<span class="title function_">fn</span>()]=[];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//undefined 这里的undefined 不是[]里面的undefined 而是fn调用之后的返回值undefined</span></span><br></pre></td></tr></table></figure>

<p>3.默认值可以使用其他变量 但是前提是赋值的这个变量必须是提前声明过的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span>[x=d]=[];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span>[x=<span class="number">2</span>,y=x]=[];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,y); <span class="comment">//2 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// let[x=y,y=2]=[];</span></span><br><span class="line"><span class="comment">// console.log(x,y); //报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span>[x=<span class="number">2</span>,y=x]=[<span class="number">8</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,y); <span class="comment">//8 8</span></span><br></pre></td></tr></table></figure>





<h2 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h2><p>扩展运算符 (…)</p>
<p>1.直接赋值 修改了原数组的值 arr1里面的值也会发生改变 因为他们指向同一块内存空间</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>];</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">0</span>]);</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">1</span>]);</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr1=arr;</span><br><span class="line">    arr[<span class="number">1</span>]=<span class="number">20</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([...arr]);</span><br></pre></td></tr></table></figure>

<p>2.使用扩展运算符 就是一个一个加到新数组里面去 所以即使原数组元素发生变化 也不会影响新数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr2=[...arr];</span><br><span class="line">arr[<span class="number">0</span>]=<span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2);</span><br></pre></td></tr></table></figure>



<h3 id="扩展运算符的作用"><a href="#扩展运算符的作用" class="headerlink" title="扩展运算符的作用"></a>扩展运算符的作用</h3><h5 id="1-数组合并"><a href="#1-数组合并" class="headerlink" title="1.数组合并"></a>1.数组合并</h5><p>这里不管是concat方法 还是扩展运算符 都是浅拷贝，如果修改了原数组的指向 就会同步反应到新数组 就是浅拷贝</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>];</span><br><span class="line">arr1[<span class="number">2</span>]=<span class="number">33</span>;</span><br><span class="line"><span class="keyword">var</span> arrCon=arr1.<span class="title function_">concat</span>(arr2);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrCon)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrSp=[...arr1,...arr2];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrSp);</span><br></pre></td></tr></table></figure>

<p>合并后的数组和合并前的数组指向同一片内存空间 所以都是浅拷贝</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrSp[<span class="number">0</span>]===arr1[<span class="number">0</span>]); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrCon[<span class="number">0</span>]===arr1[<span class="number">0</span>]); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,...arr2];</span><br></pre></td></tr></table></figure>

<h5 id="2-数组的拷贝"><a href="#2-数组的拷贝" class="headerlink" title="2.数组的拷贝"></a>2.数组的拷贝</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,[<span class="number">3</span>,[<span class="number">12</span>,<span class="number">15</span>,[<span class="number">15</span>,<span class="number">18</span>]]],&#123;<span class="attr">name</span>:<span class="string">&quot;lili&quot;</span>&#125;];</span><br><span class="line">        <span class="keyword">var</span> arrSp=[...arr];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arrSp)</span><br><span class="line"></span><br><span class="line">        arr[<span class="number">2</span>].<span class="property">name</span>=<span class="string">&quot;zs&quot;</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arrSp);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> str=<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr);</span><br><span class="line">        <span class="keyword">var</span> arr2=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(str);</span><br><span class="line">        arr[<span class="number">2</span>].<span class="property">name</span>=<span class="string">&quot;lucy&quot;</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr2);</span><br></pre></td></tr></table></figure>

<h5 id="3-与解构赋值相结合"><a href="#3-与解构赋值相结合" class="headerlink" title="3.与解构赋值相结合"></a>3.与解构赋值相结合</h5><p>如果是普通变量 那么就按照模式赋值 如果使用了扩展运算符 那么就是后面的值依次放入数组</p>
<p>如果等号右边是空数组 那么仅仅是声明 变量就是undefined 数组就是[]</p>
<p>（1）与解构赋值相结合 给变量和数组赋值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [s,...t]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(s,t);  <span class="comment">//1 [2,3,4,5]</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">var</span> [s,...t]=[]  <span class="comment">//undefined []</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(s,t);</span><br><span class="line">       </span><br><span class="line">       <span class="comment">//就相当于 </span></span><br><span class="line">       <span class="comment">// var a;</span></span><br><span class="line">       <span class="comment">// var arr=[]</span></span><br></pre></td></tr></table></figure>

<p>(2).将扩展运算符用于数组赋值 只能放在参数的最后一位 否则就会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>[a,...b,c]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span>[...b,a,c]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c) <span class="comment">//Rest element must be last element</span></span><br></pre></td></tr></table></figure>

<p>(3) 扩展运算符可以将字符串转成真正的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...<span class="string">&quot;hello&quot;</span>]);</span><br><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>（4）只有函数调用时 扩展运算符才可以放在圆括号里面 否则这种写法就直接报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1=[<span class="number">12</span>,<span class="number">45</span>,<span class="number">25</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(...arr1); <span class="comment">//报错</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...arr1]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((...arr1)); <span class="comment">//报错</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr1); <span class="comment">//把数组中的数 一个一个取出来</span></span><br></pre></td></tr></table></figure>

<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h2><h3 id="1-对象属性的扩展"><a href="#1-对象属性的扩展" class="headerlink" title="1.对象属性的扩展"></a>1.对象属性的扩展</h3><p>1.对象属性的简单赋值方式  可以将变量名直接放进对象中, 解析的时候  将变量名解析为属性名  变量值解析为属性值</p>
<p>2.对象方法的简单赋值  可以省略function关键字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;喻文波&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> gender = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> p = &#123;</span><br><span class="line">      <span class="comment">//原来</span></span><br><span class="line">      <span class="comment">// name : name,</span></span><br><span class="line">      <span class="comment">// age : age,</span></span><br><span class="line">     <span class="comment">//ES6中的简单赋值</span></span><br><span class="line">      name,</span><br><span class="line">     gender,</span><br><span class="line">      <span class="comment">// adc : function()&#123;</span></span><br><span class="line">      <span class="comment">//   console.log(&quot;伊泽瑞尔&quot;);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="comment">//2.对象方法的简单写法</span></span><br><span class="line">      <span class="title function_">adc</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;伊泽瑞尔&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    p.<span class="title function_">adc</span>();</span><br></pre></td></tr></table></figure>

<p>3.super关键字：指向当前对象的原型对象</p>
<p>使用注意点 : </p>
<ol>
<li>只能在对象的方法中使用  在其他地方使用都会报错</li>
<li>只能在对象方法的简写方式中使用</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">        name : <span class="string">&quot;宋义进&quot;</span>,</span><br><span class="line">        <span class="attr">girlFriend</span>:<span class="string">&quot;刘亦菲&quot;</span>,</span><br><span class="line">        <span class="comment">// job : function() &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(&quot;我是&quot;+super.type+&quot;中单&quot;);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="title function_">job</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我是&quot;</span>+<span class="variable language_">super</span>.<span class="property">type</span>+<span class="string">&quot;中单&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="property">__proto__</span>=&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="string">&quot;star&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">job</span>();</span><br></pre></td></tr></table></figure>

<p>4.对象的计算属性名  使用方式[]  对属性名进行计算, 里面可以是变量名  表达式 也可以是函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1 = <span class="string">&quot;name&quot;</span>;</span><br><span class="line">   <span class="keyword">var</span> n2 = <span class="string">&quot;age&quot;</span>;</span><br><span class="line">   <span class="keyword">var</span> n3 = <span class="string">&quot;hobby&quot;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">getGender</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;gender&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> obj = &#123;</span><br><span class="line">       [n1]:<span class="string">&quot;老师&quot;</span>,</span><br><span class="line">       [n2]:<span class="number">20</span>,</span><br><span class="line">       <span class="comment">// [n3]:function()&#123;</span></span><br><span class="line">       <span class="comment">//     console.log(&quot;我的爱好是跑步&quot;); </span></span><br><span class="line">       <span class="comment">// &#125;,</span></span><br><span class="line">       [n3]()&#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>[n1]+ <span class="string">&quot;---&quot;</span> +<span class="variable language_">this</span>[n2]);</span><br><span class="line">       &#125;,</span><br><span class="line"></span><br><span class="line">       [<span class="title function_">getGender</span>()]:<span class="string">&quot;男&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   obj[n3]();</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="title function_">getGender</span>()]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="2-对象的新增的api"><a href="#2-对象的新增的api" class="headerlink" title="2.对象的新增的api"></a>2.对象的新增的api</h3><p> &#x2F;&#x2F;1.Object.is() 这个方法和js的严格判断(&#x3D;&#x3D;&#x3D;)用法基本一样 只是在对于-0和+0 以及NaN的判断上做了改善</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-<span class="number">0</span> === +<span class="number">0</span>);<span class="comment">//ture =======&gt; 需要他是false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> === <span class="title class_">NaN</span>);<span class="comment">//false ======&gt;需要他是true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-<span class="number">0</span> === +<span class="number">0</span>);<span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> === <span class="title class_">NaN</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>



<p>  <strong>&#x2F;&#x2F;2.Object.assign() 是用来合并对象的</strong></p>
<p><strong>注意点 :</strong> </p>
<ol>
<li>该方法的返回值一定传入的第一个参数, 会把后面的参数全都合并上去之后返回</li>
<li>第一个参数必须是对象  如果是基本数据类型 就转换成对应的包装类返回</li>
<li>如果第一个参数是undefined 或者null 因为他们无法转换成对象  那么就会报错</li>
<li>如果合并的对象里面有同名的属性 那么后面的就会覆盖前面的</li>
<li>如果有两个参数  undefined 或者null不作为第一个参数  那么就回原值第一个参数</li>
<li>Object.assign方法是浅拷贝 不是深拷贝</li>
</ol>
<p>  &#x2F;&#x2F;参数1:目标对象  参数2…. : 需要合并的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var name = &#123;&quot;name&quot; : &quot;张学友&quot;&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// var name = &quot;[Object object]&quot;;</span></span><br></pre></td></tr></table></figure>

<p>3.Object.setPrototypeOf()  设置一个对象的原型对象</p>
<p>参数1 : 目标对象   参数2  : 新设置原型的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">n1</span>:<span class="number">15</span>,</span><br><span class="line">    <span class="attr">n2</span>:<span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br></pre></td></tr></table></figure>

<p>4.Object.getPrototypeOf()  获取一个对象的原型对象</p>
<p>参数 : 需要获取对象的原型的对象名</p>
<p><code> console.log(Object.getPrototypeOf(obj));</code></p>
<p>5.Object.keys()   是将对象所有的属性名获取到 添加到数组  并返回  返回的是一个数组  </p>
<p>参数 : 需要遍历的对象名</p>
<p>6.Object.values()  是将对象所有的属性值获取到 添加到数组  并返回  返回的是一个数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stu = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">    <span class="attr">work</span>:<span class="string">&quot;无业游民&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(stu));</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(stu));</span><br></pre></td></tr></table></figure>

<h2 id="class关键字的基本使用"><a href="#class关键字的基本使用" class="headerlink" title="class关键字的基本使用"></a>class关键字的基本使用</h2><h3 id="1-传统的构造函数的问题"><a href="#1-传统的构造函数的问题" class="headerlink" title="1.传统的构造函数的问题 :"></a>1.传统的构造函数的问题 :</h3><p>​     1. 构造函数和原型方法属性分离 不便于维护 降低了可读性</p>
<p>​     2. 原型对象的成员可以遍历</p>
<pre><code> 3. 默认情况下构造函数也是可以被当做普通函数来调用的 所以 功能性不明显
    4. 原型中的方法也可以作为构造函数来用
</code></pre>
<h3 id="2-类的用法"><a href="#2-类的用法" class="headerlink" title="2.类的用法"></a>2.类的用法</h3><p>let和const一样 都有暂时性死区 必须先定义 再使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">      <span class="title function_">constructor</span>(<span class="params">name, sex</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">sex</span> = sex;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;,&quot;</span> + <span class="variable language_">this</span>.<span class="property">sex</span>; </span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;lily&quot;</span>, <span class="string">&quot;女&quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> c1 = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br></pre></td></tr></table></figure>

<h3 id="3-ES6中的类的本质"><a href="#3-ES6中的类的本质" class="headerlink" title="3.ES6中的类的本质"></a>3.ES6中的类的本质</h3><p>class就是一个语法糖 本质就是一个函数 就是使用ES5里面的函数封装的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, sex</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;<span class="comment">// this指向于类创建的实例化对象</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sex</span> = sex;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">     concole.<span class="title function_">log</span>(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span>  <span class="title class_">Person</span>);  <span class="comment">// function</span></span><br></pre></td></tr></table></figure>



<h3 id="4-类的特点"><a href="#4-类的特点" class="headerlink" title="4.类的特点"></a>4.类的特点</h3><ol>
<li><p>类是不可枚举的</p>
</li>
<li><p>类的用法很let和const一样 都有暂时性死区 必须先定义 再使用</p>
</li>
<li><p>类里面的方法不能做为构造函数来使用 </p>
</li>
<li><p>类(Person)使用的时候 必须配合new关键字进行使用 否则就会报错</p>
</li>
</ol>
<h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><h3 id="ES5之前拼接的字符串"><a href="#ES5之前拼接的字符串" class="headerlink" title="ES5之前拼接的字符串"></a>ES5之前拼接的字符串</h3><p>  1.拼接太麻烦 需要多次分割 不便于维护</p>
<p>  2.所有拼接的字符串只能一行 显示 太长</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;p&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;我叫&quot;</span> + stu.<span class="property">name</span> + <span class="string">&quot;,我今年&quot;</span>+stu.<span class="property">age</span> +<span class="string">&quot;岁了,我住在&quot;</span>+stu.<span class="property">place</span> + <span class="string">&quot;,今年上&quot;</span>+stu.<span class="property">grade</span>+<span class="string">&quot;年级了&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;p&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;我叫&quot;</span> + stu.<span class="property">name</span> + <span class="string">&quot;,我今年&quot;</span>+stu.<span class="property">age</span> +<span class="string">&quot;岁,我住在&quot;</span>+stu.<span class="property">place</span> + <span class="string">&quot;,今年上&quot;</span>+stu.<span class="property">grade</span>+<span class="string">&quot;年级了&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>3.所有的内容写在反引号(&#96;&#96;)里面 然后变量放在${}里面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;p&quot;</span>).<span class="property">innerHTML</span> = <span class="string">`我叫<span class="subst">$&#123;stu.name&#125;</span>,我今年<span class="subst">$&#123;stu.age&#125;</span>岁了,我住在<span class="subst">$&#123;stu.place&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>

<p>4.在${}可以放入任意的js表达式  可以进行运算</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">age</span>(<span class="params">num</span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> num - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h2><h3 id="模板引擎的介绍"><a href="#模板引擎的介绍" class="headerlink" title="模板引擎的介绍"></a>模板引擎的介绍</h3><p>页面渲染使用字符串拼接 会存在问题 : 字符的恒定性 字符串拼接的时候容易出错</p>
<p>模板引擎不用拼接字符串 直接使用 静态页面里面的html里面的结构生成模板 需要渲染的时候直接调用</p>
<p>模板引擎的实现方式有很多，最简单的是“置换型”模板引擎，这类模板引擎只是将指定模板内容（字符串）中的特定标记（子字符串）替换一下便生成了最终需要的业务数据（比如网页）。</p>
<h3 id="模板引擎的使用步骤"><a href="#模板引擎的使用步骤" class="headerlink" title="模板引擎的使用步骤"></a>模板引擎的使用步骤</h3><ol>
<li><p>导入模板引擎</p>
</li>
<li><p>准备一个模板</p>
</li>
</ol>
<p>​       2.1. 准备模板必须要是用script  模板引擎规定的只能使用script</p>
<p>​       2.2. 必须要给他一个id 在调用方法的时候使用</p>
<p>​      2.3. 必须要有type属性 而且type属性绝对绝对不能使text&#x2F;javascript</p>
<ol start="3">
<li>调用方法 生成html结构</li>
</ol>
<h3 id="模板引擎使用的注意点"><a href="#模板引擎使用的注意点" class="headerlink" title="模板引擎使用的注意点:"></a>模板引擎使用的注意点:</h3><ol>
<li><p>代入的时候 一定要注意 代入的名字一定要和对象的属性名一直</p>
</li>
<li><p>type的值只要不是text&#x2F;javascript 但是建议使用text&#x2F;html 因为其他的没办法识别标签</p>
</li>
<li><p>&lt;%&#x3D; %&gt; 必须是一个完整的整体 不能加空格 或者其他的符号</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stu = &#123;</span><br><span class="line">            name : <span class="string">&quot;lisa&quot;</span>,</span><br><span class="line">            age : <span class="number">18</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> html = <span class="title function_">template</span>(<span class="string">&quot;tpl&quot;</span>, stu);</span><br></pre></td></tr></table></figure>

<h2 id="模板引擎的简写方式"><a href="#模板引擎的简写方式" class="headerlink" title="模板引擎的简写方式"></a>模板引擎的简写方式</h2><p>1.导入引擎模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./js/template-web.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.准备模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; each list value &#125;&#125;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; value.Id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; value.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line">            &lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; value.age &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span> --&gt;</span><br><span class="line">            &#123;&#123;<span class="keyword">if</span> value.<span class="property">age</span> &gt;= <span class="number">18</span>&#125;&#125;</span><br><span class="line">            &lt;td&gt;成年&lt;/td&gt;</span><br><span class="line">            &#123;&#123; <span class="keyword">else</span> &#125;&#125;</span><br><span class="line">            &lt;td&gt;未成年&lt;/td&gt;</span><br><span class="line">            &#123;&#123; /<span class="keyword">if</span> &#125;&#125;</span><br><span class="line">            &lt;td&gt;&#123;&#123; value.<span class="property">score</span> &#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &#123;&#123; /each &#125;&#125;</span><br></pre></td></tr></table></figure>

<p> 3.调用方法生成模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="title function_">template</span>(<span class="string">&quot;tpl&quot;</span>, &#123; <span class="attr">list</span>: arr &#125;);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#tb&quot;</span>).<span class="property">innerHTML</span> = html;</span><br></pre></td></tr></table></figure>

<h2 id="模板引擎的语法和输出"><a href="#模板引擎的语法和输出" class="headerlink" title="模板引擎的语法和输出"></a>模板引擎的语法和输出</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p><strong>标准语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;<span class="keyword">if</span> user&#125;&#125;</span><br><span class="line">&lt;h2&gt;&#123;&#123;user.<span class="property">name</span>&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>原始语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (user) &#123; %&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&lt;%= user.name %&gt;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-输出"><a href="#1-输出" class="headerlink" title="1.输出"></a>1.输出</h4><p><strong>标准语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;value&#125;&#125;</span><br><span class="line">&#123;&#123;data.<span class="property">key</span>&#125;&#125;</span><br><span class="line">&#123;&#123;data[<span class="string">&#x27;key&#x27;</span>]&#125;&#125;</span><br><span class="line">&#123;&#123;a ? b : c&#125;&#125;</span><br><span class="line">&#123;&#123;a || b&#125;&#125;</span><br><span class="line">&#123;&#123;a + b&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>原始语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%= value %&gt;</span><br><span class="line">&lt;%= data.<span class="property">key</span> %&gt;</span><br><span class="line">&lt;%= data[<span class="string">&#x27;key&#x27;</span>] %&gt;</span><br><span class="line">&lt;%= a ? b : c %&gt;</span><br><span class="line">&lt;%= a || b %&gt;</span><br><span class="line">&lt;%= a + b %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-原文输出"><a href="#2-原文输出" class="headerlink" title="2.原文输出"></a>2.原文输出</h4><p><strong>标准输出</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;@ value&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>原始输出</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- value %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-条件输出"><a href="#3-条件输出" class="headerlink" title="3.条件输出"></a>3.条件输出</h4><p><strong>标准语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 单 <span class="keyword">if</span> 判断 --&gt;</span><br><span class="line">&#123;&#123;<span class="keyword">if</span> value&#125;&#125; </span><br><span class="line">... </span><br><span class="line">&#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="keyword">if</span> ... <span class="keyword">else</span> ... 判断 --&gt;</span><br><span class="line">&#123;&#123;<span class="keyword">if</span> v1&#125;&#125; </span><br><span class="line">... </span><br><span class="line">&#123;&#123;<span class="keyword">else</span> <span class="keyword">if</span> v2&#125;&#125;</span><br><span class="line"> ... </span><br><span class="line">&#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>原始语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 单 <span class="keyword">if</span> 判断 --&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (value) &#123; %&gt;</span><br><span class="line">...</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="keyword">if</span> ... <span class="keyword">else</span> ... 判断 --&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (v1) &#123; %&gt;</span><br><span class="line">...</span><br><span class="line">&lt;% <span class="keyword">else</span> <span class="keyword">if</span> (v2) &#123; %&gt;</span><br><span class="line">...</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-循环输出"><a href="#4-循环输出" class="headerlink" title="4.循环输出"></a>4.循环输出</h4><p><strong>标准语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;each target&#125;&#125;</span><br><span class="line">  &#123;&#123;$index&#125;&#125; &#123;&#123;$value&#125;&#125;</span><br><span class="line">&#123;&#123;/each&#125;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>target</code>是一个数组，<code>each</code>用于对数组遍历，<code>$index</code> 是数组的下标， <code>$value</code>是数组的值<br> <strong>原始语法</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>; i++) &#123; %&gt;</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>自我介绍<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>大家好, 我叫&lt;%= list[i].name %&gt;, 我今年&lt;% if(list[i].age &gt; 20) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">u</span>&gt;</span>成年<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               &lt;% &#125; else &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">u</span>&gt;</span>未成年<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           &lt;% &#125; %&gt; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">        &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong></p>
<ol>
<li><code>target</code> 支持 <code>array</code> 与<code>object</code> 的迭代，其默认值为 <code>$data</code>。</li>
</ol>
<h2 id="模板字符串标记"><a href="#模板字符串标记" class="headerlink" title="模板字符串标记"></a>模板字符串标记</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">标记名<span class="string">`模板字符串`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = myTag<span class="string">`邓哥喜欢<span class="subst">$&#123;love1&#125;</span>，邓哥也喜欢<span class="subst">$&#123;love2&#125;</span>。`</span>;</span><br></pre></td></tr></table></figure>

<p>相当于：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="title function_">myTag</span>([<span class="string">&quot;邓哥喜欢&quot;</span>, <span class="string">&quot;，邓哥也喜欢&quot;</span>, <span class="string">&quot;。&quot;</span>], <span class="string">&quot;秋葵&quot;</span>, <span class="string">&quot;香菜&quot;</span>)</span><br><span class="line"><span class="comment">//每一位的的字符串都会合并作为数组</span></span><br><span class="line"><span class="comment">//每一位的表达式都会作为剩余参数储存起来</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串中的api"><a href="#字符串中的api" class="headerlink" title="字符串中的api"></a>字符串中的api</h2><h3 id="1-indexof"><a href="#1-indexof" class="headerlink" title="1.indexof"></a>1.indexof</h3><p>是查找字符串中是否包含某一个字符串</p>
<p>参数1：需要查询的目标字符串   参数2：就是开始查询的索引(如果不写 默认从0开始)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;符合安静的染色剂大连房价垃圾费&quot;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;安静&quot;</span>));   <span class="comment">//2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;安静&quot;</span>),<span class="number">5</span>); <span class="comment">//-1</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;安宁&quot;</span>));<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>

<h3 id="2-includes"><a href="#2-includes" class="headerlink" title="2.includes()"></a>2.includes()</h3><p>检测字符串或者数组中是否包含某一个字符串或者元素</p>
<p>返回值:布尔类型</p>
<p>参数1:需要查询的目标字符串 参数2:就是开始查询的索引(如果不写 默认从0开始)</p>
<p> indexOf 和 includes 的区别:</p>
<p> (1). 返回值 indexOf方法 返回找到的第一个子字符串位置为索引 includes 找到了就返回true 没有就返回false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(arr.<span class="title function_">includes</span>(<span class="number">60</span>))&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;咱们有踩线及格的&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rr.<span class="title function_">indexOf</span>(<span class="number">60</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;咱们有踩线及格的&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">includes</span>(<span class="string">&quot;人家&quot;</span>,<span class="number">3</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">includes</span>(<span class="string">&quot;安静&quot;</span>,<span class="number">12</span>));</span><br></pre></td></tr></table></figure>

<p>(2)如果数组里面包含NaN 但是我们又正好需要查数组里面有没有NaN  那么indexfo就不能用 就只能使用includes</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">15</span>,<span class="number">46</span>,<span class="number">42</span>,<span class="title class_">NaN</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1.<span class="title function_">indexOf</span>(<span class="title class_">NaN</span>));   <span class="comment">//-1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1.<span class="title function_">includes</span>(<span class="title class_">NaN</span>));  <span class="comment">//NaN</span></span><br></pre></td></tr></table></figure>

<p>(3)如果数组里面包含空值 那么使用indexof判断就会出错  只能使用includes</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2.<span class="title function_">indexOf</span>(<span class="literal">undefined</span>)); <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2.<span class="title function_">includes</span>(<span class="literal">undefined</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="3-startsWith-endsWith"><a href="#3-startsWith-endsWith" class="headerlink" title="3.startsWith() endsWith()"></a>3.startsWith() endsWith()</h3><p>判断是否已某一个字符串开头 或者结尾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sayHi = <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(sayHi . <span class="title function_">startsWith</span>(<span class="string">&quot;hello&quot;</span>));</span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>( sayHi . <span class="title function_">endsWith</span>(<span class="string">&quot;!&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>  &#x2F;&#x2F;第二个参数:</p>
<p>&#x2F;&#x2F; startsWith :第二个参数表示从索引为几的字符串开始找</p>
<p>&#x2F;&#x2F; endsWith :第二个参数表示的是从索引为n之前的元素里面去找(不算自身的)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( sayHi.<span class="title function_">startsWith</span>(<span class="string">&quot;hel1o&quot;</span>, <span class="number">3</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( sayHi.<span class="title function_">endsWith</span>(<span class="string">&quot;!&quot;</span>, <span class="number">11</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sayHi. <span class="title function_">endsWith</span>(<span class="string">&quot;!&quot;</span>, <span class="number">16</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="标签模板"><a href="#标签模板" class="headerlink" title="标签模板"></a>标签模板</h2><p>标签模板 本质上不是模板 而是函数的另外的一种调用形式 其实所说的标签 就是事先封装好的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;jack&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> sex = <span class="string">&quot;boy&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> girl = <span class="string">&quot;sex girl&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> feature = <span class="string">&quot;cool&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> hi = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">`My name is <span class="subst">$&#123;name&#125;</span>,I am a <span class="subst">$&#123;sex&#125;</span>, I have a <span class="subst">$&#123;girl&#125;</span>`</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br></pre></td></tr></table></figure>

<p>参数就是他后面接的字符串 以${}为分隔符 固定的字符串 放进数组里面 然后${}里面的变量依次作为后面的参数</p>
<p>标记模板（函数）的参数：</p>
<p>参数1 被插入的变量分割而成字符串数组</p>
<p>参数2…….n 都是被插入的变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">intro</span>(<span class="params">parts</span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(parts);</span><br><span class="line">         <span class="comment">// [&quot;&quot;, &quot;,My name is &quot;, &quot;,I am a &quot;, &quot; &quot;, &quot;, I have a &quot;, &quot;&quot;]</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">// console.log(a1);</span></span><br><span class="line">         <span class="comment">// console.log(a2);</span></span><br><span class="line">         <span class="comment">// console.log(a3);</span></span><br><span class="line">         <span class="comment">// console.log(a4);</span></span><br><span class="line"></span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">         <span class="comment">// 0: (6) [&quot;&quot;, &quot;,My name is &quot;, &quot;,I am a &quot;, &quot; and &quot;, &quot;, I have a &quot;, &quot;&quot;]</span></span><br><span class="line">         <span class="comment">// 1: &quot;hello&quot;</span></span><br><span class="line">         <span class="comment">// 2: &quot;jack&quot;</span></span><br><span class="line">         <span class="comment">// 3: &quot;cool&quot;</span></span><br><span class="line">         <span class="comment">// 4: &quot;boy&quot;</span></span><br><span class="line">         <span class="comment">// 5: &quot;sex girl&quot;</span></span><br><span class="line"></span><br><span class="line">         <span class="keyword">var</span> arr = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>);</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);<span class="comment">// [&quot;hello&quot;, &quot;jack&quot;, &quot;cool&quot;, &quot;boy&quot;, &quot;sex girl&quot;]</span></span><br><span class="line"></span><br><span class="line">         <span class="keyword">var</span> s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">             s += <span class="string">`<span class="subst">$&#123;parts[i]&#125;</span><span class="subst">$&#123;arr[i]&#125;</span>`</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         s += <span class="string">`<span class="subst">$&#123;parts[parts.length - <span class="number">1</span>]&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// var str = intro`My name is $&#123;name&#125;,I am a $&#123;sex&#125;, I have a $&#123;girl&#125;`;</span></span><br><span class="line">     <span class="keyword">var</span> str = intro<span class="string">`<span class="subst">$&#123;hi&#125;</span>,My name is <span class="subst">$&#123;name&#125;</span>,I am a <span class="subst">$&#123;feature&#125;</span> <span class="subst">$&#123;sex&#125;</span>, I have a <span class="subst">$&#123;girl&#125;</span>`</span>;</span><br><span class="line">     </span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br></pre></td></tr></table></figure>

<h2 id="函数的拓展"><a href="#函数的拓展" class="headerlink" title="函数的拓展"></a>函数的拓展</h2><h3 id="给参数设置默认值"><a href="#给参数设置默认值" class="headerlink" title="给参数设置默认值"></a>给参数设置默认值</h3><p>ES6里面默认给参数设置默认值</p>
<p>1.为了防止报错 我们不用再特地在函数内部处理参数</p>
<p>2.设置了默认值 即使所有的参数都不传 我们的程序也不会报错</p>
<p><code>注意点</code>:参数是在函数的局部作用域内设置的局部变量 默认是在函数内部声明过的 所以不要再使用let在函数内部声明</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">count</span>(<span class="params">m = <span class="number">20</span>, n = <span class="number">30</span></span>) &#123;</span><br><span class="line">  <span class="comment">// let n = 80;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(m + n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">count</span>();</span><br></pre></td></tr></table></figure>

<h3 id="函数拓展的应用"><a href="#函数拓展的应用" class="headerlink" title="函数拓展的应用"></a>函数拓展的应用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">	&lt;script&gt;</span><br><span class="line">	* @param name 是需要创建的标签的标签名</span><br><span class="line">    * @param container 是需要盛装新建的元素的盒子</span><br><span class="line">    * @param content  设置给新增元素的文本</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getContainer</span>(<span class="params">id</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">createElement</span>(<span class="params">name = <span class="string">&quot;p&quot;</span>, container = getContainer(<span class="string">&quot;container&quot;</span>), content = <span class="string">&quot;你好世界&quot;</span></span>) &#123;</span><br><span class="line">        <span class="comment">//创建一个对象</span></span><br><span class="line">        <span class="keyword">var</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加属性或内容</span></span><br><span class="line">        ele.<span class="property">innerHTML</span> = content;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加页面上</span></span><br><span class="line">        container.<span class="title function_">appendChild</span>(ele);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;container&quot;</span>), <span class="string">&quot;你好世界&quot;</span>);</span><br><span class="line">    <span class="title function_">createElement</span>();</span><br><span class="line">    <span class="title function_">createElement</span>(<span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="string">&quot;今天天气好晴朗&quot;</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p><strong>&#x3D;&gt; 箭头函数</strong> </p>
<p>ES6是允许使用箭头函数的</p>
<p>​	1.只有一个参数 并且函数体只有一句话 那么参数可以省略() 返回值可以省略return 函数体省略了{}</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">fn</span> = n =&gt; <span class="number">123</span>;</span><br><span class="line"><span class="comment">//相当于</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">n</span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<p>2.如果箭头函数没有参数 或者有多个参数 那么参数中的()就不能省略</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">study</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 3.如果箭头函数的函数体有多条代码 那么就不能省略&#123;&#125; 以及返回值也不能省略return</span></span><br><span class="line">   <span class="keyword">var</span> lesson = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;好好学习天天向上&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">//改成箭头函数</span></span><br><span class="line">	<span class="keyword">var</span> <span class="title function_">study</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line"> 	<span class="keyword">var</span> lesson = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;好好学习天天向上&quot;</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>4.如果函数体只有一句话,并且返回值是对象 那么 这个返回值必须使用()包起来 </p>
<p>因为 函数体使用的是{} 对象也是{}</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">info</span> = (<span class="params">name,age</span>) =&gt;(&#123;</span><br><span class="line">  <span class="attr">name</span>:name,</span><br><span class="line">  <span class="attr">age</span>:age</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;茜茜&quot;</span>,<span class="number">16</span>);</span><br></pre></td></tr></table></figure>

<p>  如果对象只是一个键值对, 那么不会报错 但是也没有正确的值</p>
<p>  因为js引擎在解析的时候 {}默认解析为函数体结构 函数代码 name : name;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">p</span> = (<span class="params">name</span>) =&gt; &#123;</span><br><span class="line">   <span class="attr">name</span>:name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;lili&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="函数中的this指向"><a href="#函数中的this指向" class="headerlink" title="函数中的this指向"></a>函数中的this指向</h2><h4 id="ES5中函数的this指向"><a href="#ES5中函数的this指向" class="headerlink" title="ES5中函数的this指向"></a>ES5中函数的this指向</h4><p>1.普通函数的this:this就是谁调用 this就指向谁 this是在调用的时候确定的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">f1</span>();</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">f1</span>();</span><br></pre></td></tr></table></figure>

<p>2.对象里面的方法 它里面的this 指向当前这个对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="string">&quot;222&quot;</span>,</span><br><span class="line">        <span class="attr">print</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1111</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">print</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fn1 = obj.<span class="property">print</span>;</span><br><span class="line">    <span class="keyword">var</span> fn2 = obj.<span class="title function_">print</span>();</span><br><span class="line"></span><br><span class="line">    fnw = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">fnw</span>();<span class="comment">//this指向window</span></span><br><span class="line"></span><br><span class="line">    obj.<span class="property">f2</span> = f1;</span><br><span class="line">    obj.<span class="title function_">f2</span>();<span class="comment">//this指向obj</span></span><br></pre></td></tr></table></figure>

<p>3.定时器里面的this,如果没有特殊的指向 那么 setInterval和setTimeout里面的回调函数的this一定是指向window</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">            <span class="attr">a</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">            <span class="attr">b</span>: <span class="string">&quot;222&quot;</span>,</span><br><span class="line">            <span class="attr">print</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2222</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="built_in">setTimeout</span>(f1, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(obj.<span class="property">print</span>, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(obj.<span class="title function_">print</span>(), <span class="number">1000</span>); <span class="comment">//这里运行打印出this是obj 和定时器没有任何关系 只是把obj.print()调用了一遍</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.在ES6里面 箭头函数的this指向 是继承自父级执行上下文中的this</p>
<p> 箭头函数没有自己的this, 他的this是从父级继承而来的 箭头函数的this在定义的时候就已经确定了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;我在window里面&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;我在obj里面的&quot;</span>,</span><br><span class="line">        <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">            <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);<span class="comment">//&quot;我是obj里面的&quot;</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(that.<span class="property">name</span>);<span class="comment">//&quot;我是obj里面的&quot;</span></span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>

<p>5.构造函数里面的this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>  (1)把构造函数当成普通函数调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<p>  (2)作为构造函数 this就指向new关键字创建的实例化对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">16</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">name</span>);<span class="comment">//&quot;张三&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">name</span>);<span class="comment">//&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>  (3)当做为构造函数时 返回值默认是new关键字创建的实例化对象 但是 如果手动添加了返回值 那么 如果是基本数据类型 就不会影响 如果是复杂数据类型 那么就会覆盖掉默认的返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name, age</span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);    </span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&quot;1111&quot;</span>,</span><br><span class="line">     <span class="attr">age</span>:<span class="number">111</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">return</span> [<span class="number">12</span>,<span class="number">13</span>,<span class="number">15</span>];</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;丽丽&quot;</span>,<span class="number">15</span>);</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="property">age</span>);</span><br></pre></td></tr></table></figure>

<h4 id="ES6中函数的this指向"><a href="#ES6中函数的this指向" class="headerlink" title="ES6中函数的this指向"></a>ES6中函数的this指向</h4><p>在ES6里面  箭头函数的this指向 是继承自父级执行上下文中的this</p>
<p>​    箭头函数没有自己的this, 他的this是从父级继承而来的 箭头函数的this在定义的时候就已经确定了 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> name = <span class="string">&quot;我在window里面&quot;</span>;</span><br><span class="line">     <span class="keyword">var</span> obj = &#123;</span><br><span class="line">      	<span class="attr">name</span>: <span class="string">&quot;我是obj里面的&quot;</span>,</span><br><span class="line">        <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">		<span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">		<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// &quot;我是obj里面的&quot; </span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(that.<span class="property">name</span>); <span class="comment">// &quot;我是obj里面的&quot; </span></span><br><span class="line">		&#125;, <span class="number">1000</span>)</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br><span class="line">		obj.<span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//把fn也换成箭头函数</span></span><br><span class="line">      <span class="keyword">var</span> name = <span class="string">&quot;我在window里面&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&quot;我是obj里面的&quot;</span>,</span><br><span class="line">          <span class="attr">fn</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">              <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">              <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);  <span class="comment">// &quot;我在window里面&quot;</span></span><br><span class="line">                  <span class="variable language_">console</span>.<span class="title function_">log</span>(that.<span class="property">name</span>);  <span class="comment">// &quot;我在window里面&quot; </span></span><br><span class="line">              &#125;, <span class="number">1000</span>)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      obj.<span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>

<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>普通函数 : this是在调用的时候确定  谁调用 this就指向谁</p>
<p>箭头函数 : this是在声明的时候就已经确定 而且不会改变  this是继承自父级执行上下文的this</p>
<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><h3 id="Symbol的描述和写法"><a href="#Symbol的描述和写法" class="headerlink" title="Symbol的描述和写法"></a>Symbol的描述和写法</h3><p>Symbol 是ES6新引入的一种基本数据类型 表示的是独一无二的值 他是js里面第六种基本数据类型</p>
<p>​    基本数据类型 : string number boolean undefined null </p>
<p>​    typeof 的返回值 string number boolean undefined object function</p>
<ol>
<li>Symbol函数生成的数据 是独一无二的 即便参数一样 那么表示的值也不一样，给symbol加参数 只是为了对于这个数据进行描述</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>(<span class="string">&quot;www&quot;</span>) === <span class="title class_">Symbol</span>(<span class="string">&quot;www&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>() === <span class="title class_">Symbol</span>());</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>Symbol没有字面量的写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">12</span>, <span class="number">15</span>, <span class="number">45</span>];</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>他是新增的一种数据类型 使用typeof检测 返回值是symbol</li>
</ol>
</li>
<li><p>Symbol数据不能使用new关键字来创建</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s3 = <span class="keyword">new</span> <span class="title class_">Symbol</span>();  <span class="comment">// Symbol is not a constructor</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s3);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>一般我们在创建数据的时候 最好加一个参数便于区分</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="title class_">Symbol</span>(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">   <span class="keyword">var</span> s2 = <span class="title class_">Symbol</span>();</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(s2);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> obj = &#123;</span><br><span class="line">       a : <span class="string">&quot;123&quot;</span>,</span><br><span class="line">       b : <span class="string">&quot;456&quot;</span>,</span><br><span class="line">       [s1] : <span class="number">15</span>  <span class="comment">// 符号属性</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>6.Symbol里面的for方法</p>
<p>参数是一个字符串，如果有值，就将这个值返回，如果没有，就新创建一个数值(是在全局作用域内添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="title class_">Symbol</span>(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">   <span class="keyword">var</span> s1 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">   <span class="keyword">var</span> s2 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(s1 === s2); <span class="comment">//true</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>(<span class="string">&quot;bbb&quot;</span>) === <span class="title class_">Symbol</span>(<span class="string">&quot;bbb&quot;</span>));</span><br><span class="line">   <span class="comment">//false</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(s1); <span class="comment">//Symbol(aaa)</span></span><br><span class="line">   <span class="keyword">var</span> obj = &#123;</span><br><span class="line">     name : <span class="string">&quot;工藤新一&quot;</span>,</span><br><span class="line">     age : <span class="number">17</span>,</span><br><span class="line">     [<span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;handsome&quot;</span>)] : <span class="string">&quot;男&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;handsome&quot;</span>)]); <span class="comment">//男</span></span><br></pre></td></tr></table></figure>



<p>7.Symbol.keyFor </p>
<p>这个方法返回 已经在全局作用域登记了的Symbol值得标记参数，如果没有登记，就返回undefined</p>
<p>​      </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> syb1 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;sss&quot;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(syb1)); <span class="comment">//sss</span></span><br><span class="line">      <span class="keyword">var</span> syb2 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;sss&quot;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(syb2)); <span class="comment">//sss</span></span><br></pre></td></tr></table></figure>



<h3 id="ES6新增的方法-Object-get"><a href="#ES6新增的方法-Object-get" class="headerlink" title="ES6新增的方法 Object.get"></a>ES6新增的方法 Object.get</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> syb = <span class="title class_">Symbol</span>(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">       <span class="keyword">var</span> obj = &#123;</span><br><span class="line">           a : <span class="string">&quot;123&quot;</span>,</span><br><span class="line">           b : <span class="string">&quot;456&quot;</span>,</span><br><span class="line">           [syb] : <span class="number">25</span></span><br><span class="line">       &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(key);<span class="comment">// a   b       获取不到[syb] </span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj));<span class="comment">//[&quot;a&quot; , &quot;b&quot;]      获取不到[syb]</span></span><br><span class="line">      </span><br><span class="line">       <span class="comment">// ES6新增的方法 Object.get</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(obj));<span class="comment">//[&quot;a&quot; , &quot;b&quot;] 获取不到[syb]</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(obj));<span class="comment">//[Symbol(c)]</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> s = <span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(obj);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(s[<span class="number">0</span>] === syb);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="ES6的Set的基本用法"><a href="#ES6的Set的基本用法" class="headerlink" title="ES6的Set的基本用法"></a>ES6的Set的基本用法</h2><p><strong>使用方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>();<span class="comment">//他的返回值是一个Boolean值</span></span><br></pre></td></tr></table></figure>

<h3 id="1-增-add-数据"><a href="#1-增-add-数据" class="headerlink" title="1.增 add(数据)"></a>1.增 add(数据)</h3><p>添加一个数据到集合的末尾 如果这个数字原本就存在，那就不进行任何操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $add = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="number">1</span>);</span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="number">2</span>);</span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="number">5</span>);</span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="number">5</span>); <span class="comment">//这条数据无效添加，因为已经有了这个数据</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>($add);</span><br><span class="line">      <span class="comment">//set使用object.is来判断两个值是否相等，但是专门针对-0 和  +0做了处理，在set里面默认他们相等</span></span><br><span class="line">      $add.<span class="title function_">add</span>(-<span class="number">0</span>);</span><br><span class="line">      $add.<span class="title function_">add</span>(+<span class="number">0</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>($add); <span class="comment">//-0和+0也只加入了一个</span></span><br><span class="line"></span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="title class_">NaN</span>);</span><br><span class="line">      $add.<span class="title function_">add</span>(<span class="title class_">NaN</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>($add);<span class="comment">//NaN也只加入了一个</span></span><br></pre></td></tr></table></figure>

<h3 id="2-查-has-数据"><a href="#2-查-has-数据" class="headerlink" title="2.查:has(数据)"></a>2.查:has(数据)</h3><p> 判断set集合中是否存在查询的这个数据 返回值为boolean类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">     <span class="keyword">var</span> $has = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(<span class="number">1</span>));  <span class="comment">//true</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(<span class="title class_">NaN</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(+<span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(-<span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(<span class="number">6</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>($has.<span class="title function_">has</span>(<span class="number">9</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="3-删：delete-数据"><a href="#3-删：delete-数据" class="headerlink" title="3.删：delete(数据)"></a>3.删：delete(数据)</h3><p>对集合里面的数据进行匹配，匹配成功就删除</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $delete = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>($delete.<span class="title function_">delete</span>(<span class="number">9</span>));  </span><br><span class="line">	<span class="comment">//flase  表示没有找到9这个数据  所以删除失败  返回false</span></span><br><span class="line">	</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>($delete.<span class="title function_">delete</span>(<span class="number">1</span>));  </span><br><span class="line">	<span class="comment">//true  表示找到了1这个对应的数据  所以删除成功  返回true</span></span><br><span class="line">	</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>($delete); <span class="comment">//&#123;2, 6, 5, 0, NaN&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-清空-clear"><a href="#4-清空-clear" class="headerlink" title="4.清空 clear()"></a>4.清空 clear()</h3><p>清空整个set集合，不需要传任何参数，clear方法是没有返回值的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">clear</span>()); <span class="comment">//undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//set(0)&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-size属性"><a href="#5-size属性" class="headerlink" title="5.size属性"></a>5.size属性</h3><p> 是获取set合集里面所有的元素个数，基本上是数组的长度类似</p>
<p> 但是 size只是可读性，不能重新赋值，如果重新赋值，不会起任何作用，也不会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">size</span>); <span class="number">0</span></span><br><span class="line">        s.<span class="property">size</span> = <span class="number">7</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//set(0)&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p> 数组的长度 可以进行设置，设置过后同样改变数组元素，没有元素的值为空</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">12</span>, <span class="number">23</span>, <span class="number">332</span>];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>);  <span class="comment">//3</span></span><br><span class="line">        arr.<span class="property">length</span> = <span class="number">5</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">//[12,23,332,empty乘以2]</span></span><br></pre></td></tr></table></figure>

<h3 id="6-set集合的遍历"><a href="#6-set集合的遍历" class="headerlink" title="6.set集合的遍历"></a>6.set集合的遍历</h3><p>使用for-of进行遍历 返回的item是每一项的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> s) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-forEach方法"><a href="#7-forEach方法" class="headerlink" title="7.forEach方法"></a>7.forEach方法</h3><p>forEach方法是set集合的实例化方法，但是set集合没有下标，所以item和index都表示元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index, s</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br><span class="line"></span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="8-filter方法"><a href="#8-filter方法" class="headerlink" title="8.filter方法"></a>8.filter方法</h3><p>返回值是一个新数组，用来检测数组中的元素是否符合某一条件，把符合条件的元素过滤出来</p>
<p>例如，在一个Array中，删掉偶数，只保留奇数，可以这么写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item,index,self</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> item % <span class="number">2</span> !== <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<p>例如，把一个Array中的空字符串删掉，可以这么写：</p>
<p>元素前后的空格需要遍历删除，这个只能删除空字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;  &#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> r = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> s &amp;&amp; s.<span class="title function_">trim</span>(); </span><br><span class="line">    <span class="comment">// 注意：IE9以下的版本没有trim()方法</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span></span><br></pre></td></tr></table></figure>

<h5 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h5><p>filter()接收的回调函数，其实可以有多个参数。<strong>通常</strong>我们仅使用<strong>第一个参数</strong>，表示<strong>Array的某个元素</strong>。回调函数还可以接收<strong>另外两个</strong>参数，表示<strong>元素的位置</strong>和<strong>数组本身</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> r = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item, index, self</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item); <span class="comment">// 依次打印&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;//元素</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index);<span class="comment">// 依次打印0, 1, 2 //索引</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(self); <span class="comment">// self就是变量arr</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;aaa&quot;</span>];</span><br><span class="line">        <span class="keyword">var</span> arr2 =</span><br><span class="line">            arr1.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item,index,arr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(item) == index;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[&quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot;]</span></span><br></pre></td></tr></table></figure>

<h5 id="交集，并集，差集"><a href="#交集，并集，差集" class="headerlink" title="交集，并集，差集"></a>交集，并集，差集</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">19</span>, <span class="number">69</span>, <span class="number">67</span>, <span class="number">58</span>, <span class="number">26</span>, <span class="number">67</span>];</span><br><span class="line">        <span class="keyword">var</span> arr2 = [<span class="number">18</span>, <span class="number">79</span>, <span class="number">58</span>, <span class="number">99</span>, <span class="number">67</span>, <span class="number">79</span>, <span class="number">67</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//并集</span></span><br><span class="line">        <span class="comment">// var arrs = arr1.concat(arr2);</span></span><br><span class="line">        <span class="comment">// var sss = new Set(arrs);</span></span><br><span class="line">        <span class="comment">// arrs = [...sss];</span></span><br><span class="line">        <span class="comment">// console.log(arrs);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> con = [...<span class="keyword">new</span> <span class="title class_">Set</span>([...arr1, ...arr2])];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(con);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//交集</span></span><br><span class="line">        <span class="comment">// var a1 = new Set(arr1);</span></span><br><span class="line">        <span class="comment">// var a2 = new Set(arr2);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// var a = [...a1, ...a2];</span></span><br><span class="line">        <span class="comment">// console.log(a);</span></span><br><span class="line">        <span class="comment">// var ssw = a.filter(function (item, index, arr) &#123;</span></span><br><span class="line">        <span class="comment">//     return arr.indexOf(item) != index;</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        <span class="comment">// console.log(ssw);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> inter = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr1)].<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> arr2.<span class="title function_">indexOf</span>(item) &gt;= <span class="number">0</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(inter);</span><br><span class="line">        <span class="keyword">var</span> inter2 = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr1)].<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> arr2.<span class="title function_">indexOf</span>(item) &gt;= <span class="number">0</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(inter2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//差集</span></span><br><span class="line">        <span class="keyword">var</span> arr3 = con.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item, index, arr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> inter.<span class="title function_">indexOf</span>(item) &lt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);</span><br></pre></td></tr></table></figure>

<h5 id="素数"><a href="#素数" class="headerlink" title="素数"></a>素数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">get_primes</span>(<span class="params">arr</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> s = arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">x</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(x&lt;<span class="number">4</span>)<span class="keyword">return</span> x!=<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">var</span> i=<span class="number">2</span>;</span><br><span class="line">   <span class="keyword">for</span>(;i&lt;=x/<span class="number">2</span>;++i)</span><br><span class="line">   <span class="keyword">if</span>(x%i==<span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 测试:</span></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">    x,</span><br><span class="line">    r,</span><br><span class="line">    arr = [];</span><br><span class="line"><span class="keyword">for</span> (x = <span class="number">1</span>; x &lt; <span class="number">100</span>; x++) &#123;</span><br><span class="line">    arr.<span class="title function_">push</span>(x);</span><br><span class="line">&#125;</span><br><span class="line">r = <span class="title function_">get_primes</span>(arr);</span><br><span class="line"><span class="keyword">if</span> (r.<span class="title function_">toString</span>() === [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span>, <span class="number">41</span>, <span class="number">43</span>, <span class="number">47</span>, <span class="number">53</span>, <span class="number">59</span>, <span class="number">61</span>, <span class="number">67</span>, <span class="number">71</span>, <span class="number">73</span>, <span class="number">79</span>, <span class="number">83</span>, <span class="number">89</span>, <span class="number">97</span>].<span class="title function_">toString</span>()) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;测试通过!&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;测试失败: &#x27;</span> + r.<span class="title function_">toString</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ES6的Map基本用法"><a href="#ES6的Map基本用法" class="headerlink" title="ES6的Map基本用法"></a>ES6的Map基本用法</h2><p><strong>使用方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br></pre></td></tr></table></figure>

<p><strong>map的循环</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> &#123;</span><br><span class="line"> 	 <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">	 <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">	 map.<span class="title function_">set</span>(key, value);</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br></pre></td></tr></table></figure>



<p>  &#x2F;&#x2F;set() 是给map集合设置键值对元素 参数1:键  参数2:值</p>
<p>  &#x2F;&#x2F;get() 是获取map集合中指定键的值</p>
<h4 id="1-has-查"><a href="#1-has-查" class="headerlink" title="1.has() 查"></a>1.has() 查</h4><p>判断指定键是否存在于map集合中 返回布尔类型的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">has</span>(<span class="string">&quot;age&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">has</span>(<span class="string">&quot;boyfriend&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="2-delete-删"><a href="#2-delete-删" class="headerlink" title="2.delete() 删"></a>2.delete() 删</h4><p>删除map集合中指定键的键值对 返回布尔类型的值 能找到 就删除 返回true  否则返回false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">delete</span>(<span class="string">&quot;girlfriend&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">delete</span>(<span class="string">&quot;boyfriend&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="3-clear-清空"><a href="#3-clear-清空" class="headerlink" title="3.clear() 清空"></a>3.clear() 清空</h4><p> 清空集合中所有的元素 没有参数 没有返回值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">clear</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br></pre></td></tr></table></figure>

<h4 id="4-map集合转换成数组"><a href="#4-map集合转换成数组" class="headerlink" title="4.map集合转换成数组"></a>4.map集合转换成数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = [...map];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br></pre></td></tr></table></figure>

<h4 id="5-map集合的遍历"><a href="#5-map集合的遍历" class="headerlink" title="5.map集合的遍历"></a>5.map集合的遍历</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for-of方法遍历k </span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> item <span class="keyword">of</span> map)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item[<span class="number">0</span>]);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item[<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h4 id="6-和结构赋值进行结合"><a href="#6-和结构赋值进行结合" class="headerlink" title="6.和结构赋值进行结合"></a>6.和结构赋值进行结合</h4><p>优点:取值方便</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> map)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-fotEach-遍历"><a href="#7-fotEach-遍历" class="headerlink" title="7.fotEach 遍历"></a>7.fotEach 遍历</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,key,self</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(self);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="函数处理"><a href="#函数处理" class="headerlink" title="函数处理"></a>函数处理</h2><h3 id="1-使用Promise解决异步编程"><a href="#1-使用Promise解决异步编程" class="headerlink" title="1.使用Promise解决异步编程"></a>1.使用Promise解决异步编程</h3><p>Promise是解决异步编程问题的一种方案</p>
<p>从语法上讲 promise是一个对象 通过这个对象 我们可以获取异步操作的信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> random = <span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(random);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (random &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">msg</span>: <span class="string">&quot;响应成功&quot;</span> &#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">reject</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">msg</span>: <span class="string">&quot;响应失败&quot;</span> &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="调用promise的than方法"><a href="#调用promise的than方法" class="headerlink" title="调用promise的than方法"></a>调用promise的than方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br></pre></td></tr></table></figure>

<h3 id="2-使用Promise封装ajax"><a href="#2-使用Promise封装ajax" class="headerlink" title="2.使用Promise封装ajax"></a>2.使用Promise封装ajax</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toData</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">       <span class="comment">//声明一个数组 来装每一组的数据</span></span><br><span class="line">       <span class="keyword">var</span> arr = [];</span><br><span class="line">       <span class="keyword">if</span> (obj !== <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">               <span class="keyword">let</span> str = key + <span class="string">&quot;=&quot;</span> + obj[key];</span><br><span class="line">               arr.<span class="title function_">push</span>(str);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, rejevct</span>) &#123;</span><br><span class="line">           <span class="comment">//给ajax所需要的参数设置默认值</span></span><br><span class="line">           obj.<span class="property">type</span> = obj.<span class="property">type</span> || <span class="string">&quot;get&quot;</span>;</span><br><span class="line">           obj.<span class="property">async</span> = obj.<span class="property">async</span> || <span class="string">&quot;trie&quot;</span>;</span><br><span class="line">           obj.<span class="property">dataType</span> = obj.<span class="property">dataType</span> || <span class="string">&quot;json&quot;</span>;</span><br><span class="line">           obj.<span class="property">data</span> = ppbj.<span class="property">data</span> || <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">           <span class="comment">//开始发送ajax请求</span></span><br><span class="line">           <span class="keyword">var</span> xhr;</span><br><span class="line">           <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>) &#123;</span><br><span class="line">               xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="comment">//IE低版本的浏览器</span></span><br><span class="line">               xhr = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHttp&quot;</span>)</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// 判断是post请求 还是get请求</span></span><br><span class="line">           <span class="keyword">if</span> (obj.<span class="property">type</span> === <span class="string">&quot;post&quot;</span>) &#123;</span><br><span class="line">               xhr.<span class="title function_">open</span>(obj.<span class="property">type</span>, obj.<span class="property">url</span>, obj.<span class="property">async</span>);</span><br><span class="line">               <span class="comment">// 设置请求头</span></span><br><span class="line">               xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class="line"></span><br><span class="line">               xhr.<span class="title function_">send</span>(<span class="title function_">toData</span>(obj.<span class="property">data</span>));</span><br><span class="line"></span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">var</span> url = obj.<span class="property">url</span> + <span class="string">&quot;?&quot;</span> + <span class="title function_">toData</span>(obj.<span class="property">data</span>);</span><br><span class="line">               xhr.<span class="title function_">open</span>(obj.<span class="property">type</span>, url, obj.<span class="property">async</span>);</span><br><span class="line">               xhr.<span class="title function_">send</span>();</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           <span class="comment">//处理响应体</span></span><br><span class="line">           xhr.<span class="property">onreadystatechamge</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">               <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">                   <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span> || xhr.<span class="property">status</span> == <span class="number">304</span>) &#123;</span><br><span class="line">                       <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>));</span><br><span class="line">                   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                       <span class="title function_">reject</span>(xhr.<span class="property">status</span>);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-then和catch"><a href="#3-then和catch" class="headerlink" title="3.then和catch"></a>3.then和catch</h3><h4 id="1-Promise-prototype-then-方法"><a href="#1-Promise-prototype-then-方法" class="headerlink" title="1.Promise.prototype.then()方法"></a>1.Promise.prototype.then()方法</h4><p>Promise 实例具有then方法，也就是说，then方法是定义在原型对象Promise.prototype上的。它的作用是为 Promise 实例添加状态改变时的回调函数。then方法的第一个参数是resolved状态的回调函数，第二个参数（可选）是rejected状态的回调函数。</p>
<p>then方法返回的是一个新的Promise实例（注意，不是原来那个Promise实例）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pro1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,rejevt</span>) =&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1234</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        在<span class="title class_">Promise</span>对象  是同步的代码</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pro1);</span><br><span class="line">        <span class="comment">//then方法是异步的</span></span><br><span class="line">        pro1.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p> **1.**如果当前的Promise对象是未决的 得到的Promise对象是被挂起的</p>
<p>​	</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pro1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pro1);<span class="comment">//已决状态</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> pro2 = pro1.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> data * <span class="number">3</span>,<span class="function"><span class="params">err</span>=&gt;</span>err*<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">var</span> pro3 = pro2.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pro2);<span class="comment">//未决状态</span></span><br><span class="line"></span><br><span class="line">        &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err * <span class="number">2</span>);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p>  **2.**如果当前的Promise对象是已决的 那么 就会运行相应的后续函数</p>
<h4 id="2-Promise-prototype-catch-方法"><a href="#2-Promise-prototype-catch-方法" class="headerlink" title="2.Promise.prototype.catch()方法"></a>2.Promise.prototype.catch()方法</h4><p>Promise.prototype.catch方法是.then(null, rejection)的别名，用于指定发生错误时的回调函数。</p>
<p>在未决状态的处理函数中 如果发生未捕获的错误 那么状态就会有pending 直接变成 rejected状态 并且可以被catch捕获</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">          <span class="comment">// try&#123;</span></span><br><span class="line">          <span class="comment">//     throw new Error(&quot;123&quot;);</span></span><br><span class="line">          <span class="comment">// &#125;catch(e)&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">          <span class="title function_">resolve</span>(<span class="number">12</span>);</span><br><span class="line">          <span class="title function_">reject</span>(<span class="number">34</span>);</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-Promise的方法"><a href="#4-Promise的方法" class="headerlink" title="4.Promise的方法"></a>4.Promise的方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> r1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&quot;我是第一个请求&quot;</span>);</span><br><span class="line">            &#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> r2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&quot;我是第二个请求&quot;</span>);</span><br><span class="line">            &#125;,<span class="number">3000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> r3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&quot;我是第三个请求&quot;</span>);</span><br><span class="line">            &#125;,<span class="number">3000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> r4 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&quot;我是第四个请求&quot;</span>);</span><br><span class="line">            &#125;,<span class="number">500</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="all方法"><a href="#all方法" class="headerlink" title="all方法"></a>all方法</h4><p>请求同时发送出去 但是要等到最后一个请求返回以后 统一处理数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([r1,r2,r3,r4]).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span>&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="race-方法"><a href="#race-方法" class="headerlink" title="race 方法"></a>race 方法</h4><p>请求同时发送出去 谁先回来 就是用谁的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([r1,r2,r3,r4]).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-async和await"><a href="#5-async和await" class="headerlink" title="5.async和await"></a>5.async和await</h3><h4 id="async关键字"><a href="#async关键字" class="headerlink" title="async关键字"></a>async关键字</h4><p> async 作用 简化函数返回值中promise对象的创建</p>
<p>一般情况下 async写在函数的最前面 被修饰的函数的返回值 一定是promise对象</p>
<p><strong>因为<code>await</code>会阻塞代码的执行。而解决这个弊端的手段就是<code>async</code>声明。</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//throw 13;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 只有在某些特殊情况下  才会返回手动返回一个promise对象</span></span><br><span class="line">            <span class="comment">// return new Promise((resolve,reject)=&gt;&#123;</span></span><br><span class="line">            <span class="comment">//     resolve(20);</span></span><br><span class="line">            <span class="comment">// &#125;)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">test</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>());</span><br><span class="line"><span class="comment">//其实之所以async声明能解决await的阻塞问题，就是因为async声明将函数作了一层promise包装，这样内部的异步操作其实就是由pending转为resolve或者reject的过程。这样函数本身就能够随意调用，函数内部的await也不会再影响到函数外部的代码执行。</span></span><br></pre></td></tr></table></figure>

<h4 id="await关键字"><a href="#await关键字" class="headerlink" title="await关键字"></a>await关键字</h4><p><code>await</code>的意思就是<strong>等待</strong>。它后面可以跟一个表达式。如果是值(如字符串、数字、普通对象等等)的话，返回值就是本身的值。</p>
<p>不过最常用的是后面跟一个promise<code>对象。</code>await<code>会等待这个</code>promise<code>的状态由</code>pending<code>转为</code>fulfilled<code>或者</code>rejected&#96;。<strong>在此期间它会阻塞，延迟执行await语句后面的语句。</strong></p>
<p>如果<code>promise</code>对象的结果是<code>resolve</code>，它会将<code>resolve</code>的值，作为<code>await</code>表达式的运算结果。</p>
<p>​	其实<code>await</code>与<code>async</code>本身就是<code>promise</code>化编程的一种语法糖。对比一下两种写法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 异步promise化的函数--模拟请求后端接口</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">asyncFn</span> () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resolve console&#x27;</span>)</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;resolve return&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="string">&#x27;reject return&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// promise</span></span><br><span class="line"><span class="title function_">asyncFn</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// await</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> res = <span class="keyword">await</span> <span class="title function_">asyncFn</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果有第二次请求的话，promise需要在then方法继续调用，再用then接受，过多的嵌套依然会增加阅读难度。而await async只需要像写同步代码一样继续书写就可以，它是解决异步编程回调地狱的终极手段。</span></span><br></pre></td></tr></table></figure>

<h3 id="6-extends关键字"><a href="#6-extends关键字" class="headerlink" title="6.extends关键字"></a>6.extends关键字</h3><p><strong>使用class关键字实现继承  需要使用extends关键字</strong></p>
<p>**<code>extends</code>**关键字用于<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/class">类声明</a>或者<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/class">类表达式</a>中，以创建一个类，该类是另一个类的子类。</p>
<p><strong>语法:</strong></p>
<p>class 父类 { }  </p>
<p>class 子类 extends 父类 { }</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">            <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">work</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;修身养性&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">            <span class="title function_">constructor</span>(<span class="params">name,age,type</span>)&#123;</span><br><span class="line">                <span class="variable language_">super</span>(name,age);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">type</span> = type;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;喻文波&quot;</span>,<span class="number">19</span>,<span class="string">&quot;职业选手&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br><span class="line">        s.<span class="title function_">work</span>();</span><br></pre></td></tr></table></figure>

<h3 id="7-generator和yield表达式"><a href="#7-generator和yield表达式" class="headerlink" title="7.generator和yield表达式"></a>7.generator和yield表达式</h3><h4 id="1-什么是generator函数"><a href="#1-什么是generator函数" class="headerlink" title="1.什么是generator函数?"></a>1.什么是generator函数?</h4><p>generator函数其实就是一个状态机 里面封装了多个状态 通过调用next方法返回当前遍历的值</p>
<p>generator函数实际上是一个iteration生成器</p>
<p>作为普通函数 进行调用 name函数就会从头到尾执行一遍 除非遇到return就停止</p>
<h4 id="2-generator语法"><a href="#2-generator语法" class="headerlink" title="2.generator语法"></a>2.generator语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">gen</span>(<span class="params"></span>) &#123; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = <span class="title function_">gen</span>(); </span><br><span class="line"><span class="comment">// &quot;Generator &#123; &#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-generator函数的特性"><a href="#3-generator函数的特性" class="headerlink" title="3.generator函数的特性:"></a>3.generator函数的特性:</h4><p>1.generator函数是分步执行的 yield+”值”; 表达式是函数暂停的标志 而调用next方法可以恢复函数的执行</p>
<p>2.generator函数在function关键字和函数名之间 有一个* 通常情况下 挨着function关键字写</p>
<p>3.yield关键字定义了函数内部不同的状态</p>
<p>4.generator函数在调用的时候 没有执行函数体代码 只是返回了一个iterator对象 只有调用next方法才能遍历它内部的每一个状态</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">love</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;他们恋爱了&quot;</span>;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;他们结婚了&quot;</span>;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;他们离婚了&quot;</span>;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> <span class="string">&quot;tragic ending&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">love</span>());</span><br><span class="line">       <span class="keyword">var</span> lv = <span class="title function_">love</span>();</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(lv.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(lv.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(lv.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(lv.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(lv.<span class="title function_">next</span>());</span><br></pre></td></tr></table></figure>

<h4 id="4-next被调用之后的运行逻辑"><a href="#4-next被调用之后的运行逻辑" class="headerlink" title="4.next被调用之后的运行逻辑:"></a>4.next被调用之后的运行逻辑:</h4><p>​    1.当函数调用之后 遇到 yield关键字 就会暂停运行后面的代码 调用next方法之后 紧跟着yield关键字后面的值就会作为返回值返回</p>
<p>​    2.当我们再次调用next方法的时候 就会从当前的位置继续往下走 直到遇见下一个yield</p>
<p>​    3.运行到最后 如果没有再遇到 yield关键字 就会一直往下运行 直到遇见return关键字 就停止执行 返回值就是return后面的值 状态值为true</p>
<p>​    4.如果没有return 那么返回值是undefined done的值为true</p>
<h4 id="5-yield表达式"><a href="#5-yield表达式" class="headerlink" title="5.yield表达式"></a>5.yield表达式</h4><p>只能在generator函数里面用 在其他的使用 会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>);</span><br><span class="line">           <span class="keyword">yield</span> <span class="number">12</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="title function_">test</span>();</span><br></pre></td></tr></table></figure>

<h4 id="6-yield-表达式的作用"><a href="#6-yield-表达式的作用" class="headerlink" title="6.yield*表达式的作用"></a>6.yield*表达式的作用</h4><p>如果在一个generator函数里面去调用另一个generator函数 使用普通的调用方法是不起作用 ，必须使用 yield*表达式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">test1</span>(<span class="params"></span>)&#123;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;111&quot;</span>;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;222&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">function</span>* <span class="title function_">test2</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">yield</span>* <span class="title function_">test1</span>();</span><br><span class="line"></span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;333&quot;</span>;</span><br><span class="line">           <span class="keyword">yield</span> <span class="string">&quot;444&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">var</span> test = <span class="title function_">test2</span>();</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">next</span>());</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">next</span>());</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://TroubleGu.github.io">麻烦顾</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://troublegu.github.io/2022/10/29/ES6/">http://troublegu.github.io/2022/10/29/ES6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://TroubleGu.github.io" target="_blank">TroubleGu's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ES6/">ES6</a></div><div class="post_share"><div class="social-share" data-image="/./img/7.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/10/29/JS/"><img class="prev-cover" src="/./img/8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JavaScript</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/14/%E8%B7%A8%E7%AB%AF%E6%8A%80%E6%9C%AF/"><img class="next-cover" src="/./img/5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">跨端技术</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/avatar_img.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">麻烦顾</div><div class="author-info__description">绘一纸潇湘，花盏玲珑如妆，雨落弦响，陌上芳华，醉影照天长</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6"><span class="toc-number">1.</span> <span class="toc-text">ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">ES6介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E6%96%B0%E5%A2%9E%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">ES6新增语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">声明变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">let声明的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-number">1.2.2.0.1.</span> <span class="toc-text"></span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">解构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">注意点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.</span> <span class="toc-text">扩展运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.4.1.</span> <span class="toc-text">扩展运算符的作用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84%E5%90%88%E5%B9%B6"><span class="toc-number">1.4.1.0.1.</span> <span class="toc-text">1.数组合并</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%95%B0%E7%BB%84%E7%9A%84%E6%8B%B7%E8%B4%9D"><span class="toc-number">1.4.1.0.2.</span> <span class="toc-text">2.数组的拷贝</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E4%B8%8E%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9B%B8%E7%BB%93%E5%90%88"><span class="toc-number">1.4.1.0.3.</span> <span class="toc-text">3.与解构赋值相结合</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-1"><span class="toc-number">1.5.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">1.6.</span> <span class="toc-text">对象的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.对象属性的扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B0%E5%A2%9E%E7%9A%84api"><span class="toc-number">1.6.2.</span> <span class="toc-text">2.对象的新增的api</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#class%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.7.</span> <span class="toc-text">class关键字的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BC%A0%E7%BB%9F%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.传统的构造函数的问题 :</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%B1%BB%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">2.类的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-ES6%E4%B8%AD%E7%9A%84%E7%B1%BB%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">1.7.3.</span> <span class="toc-text">3.ES6中的类的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%B1%BB%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.7.4.</span> <span class="toc-text">4.类的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.8.</span> <span class="toc-text">模板字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ES5%E4%B9%8B%E5%89%8D%E6%8B%BC%E6%8E%A5%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.8.1.</span> <span class="toc-text">ES5之前拼接的字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-number">1.9.</span> <span class="toc-text">模板引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.9.1.</span> <span class="toc-text">模板引擎的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.9.2.</span> <span class="toc-text">模板引擎的使用步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">1.9.3.</span> <span class="toc-text">模板引擎使用的注意点:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E7%AE%80%E5%86%99%E6%96%B9%E5%BC%8F"><span class="toc-number">1.10.</span> <span class="toc-text">模板引擎的简写方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E8%AF%AD%E6%B3%95%E5%92%8C%E8%BE%93%E5%87%BA"><span class="toc-number">1.11.</span> <span class="toc-text">模板引擎的语法和输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">1.11.1.</span> <span class="toc-text">语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BE%93%E5%87%BA"><span class="toc-number">1.11.1.1.</span> <span class="toc-text">1.输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8E%9F%E6%96%87%E8%BE%93%E5%87%BA"><span class="toc-number">1.11.1.2.</span> <span class="toc-text">2.原文输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E8%BE%93%E5%87%BA"><span class="toc-number">1.11.1.3.</span> <span class="toc-text">3.条件输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%87%BA"><span class="toc-number">1.11.1.4.</span> <span class="toc-text">4.循环输出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%87%E8%AE%B0"><span class="toc-number">1.12.</span> <span class="toc-text">模板字符串标记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84api"><span class="toc-number">1.13.</span> <span class="toc-text">字符串中的api</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-indexof"><span class="toc-number">1.13.1.</span> <span class="toc-text">1.indexof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-includes"><span class="toc-number">1.13.2.</span> <span class="toc-text">2.includes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-startsWith-endsWith"><span class="toc-number">1.13.3.</span> <span class="toc-text">3.startsWith() endsWith()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.14.</span> <span class="toc-text">标签模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%8B%93%E5%B1%95"><span class="toc-number">1.15.</span> <span class="toc-text">函数的拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">1.15.1.</span> <span class="toc-text">给参数设置默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8B%93%E5%B1%95%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.15.2.</span> <span class="toc-text">函数拓展的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.15.3.</span> <span class="toc-text">箭头函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84this%E6%8C%87%E5%90%91"><span class="toc-number">1.16.</span> <span class="toc-text">函数中的this指向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ES5%E4%B8%AD%E5%87%BD%E6%95%B0%E7%9A%84this%E6%8C%87%E5%90%91"><span class="toc-number">1.16.0.1.</span> <span class="toc-text">ES5中函数的this指向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6%E4%B8%AD%E5%87%BD%E6%95%B0%E7%9A%84this%E6%8C%87%E5%90%91"><span class="toc-number">1.16.0.2.</span> <span class="toc-text">ES6中函数的this指向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.16.0.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol"><span class="toc-number">1.17.</span> <span class="toc-text">Symbol</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol%E7%9A%84%E6%8F%8F%E8%BF%B0%E5%92%8C%E5%86%99%E6%B3%95"><span class="toc-number">1.17.1.</span> <span class="toc-text">Symbol的描述和写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E6%96%B0%E5%A2%9E%E7%9A%84%E6%96%B9%E6%B3%95-Object-get"><span class="toc-number">1.17.2.</span> <span class="toc-text">ES6新增的方法 Object.get</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E7%9A%84Set%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">1.18.</span> <span class="toc-text">ES6的Set的基本用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A2%9E-add-%E6%95%B0%E6%8D%AE"><span class="toc-number">1.18.1.</span> <span class="toc-text">1.增 add(数据)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9F%A5-has-%E6%95%B0%E6%8D%AE"><span class="toc-number">1.18.2.</span> <span class="toc-text">2.查:has(数据)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%A0%EF%BC%9Adelete-%E6%95%B0%E6%8D%AE"><span class="toc-number">1.18.3.</span> <span class="toc-text">3.删：delete(数据)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B8%85%E7%A9%BA-clear"><span class="toc-number">1.18.4.</span> <span class="toc-text">4.清空 clear()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-size%E5%B1%9E%E6%80%A7"><span class="toc-number">1.18.5.</span> <span class="toc-text">5.size属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-set%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.18.6.</span> <span class="toc-text">6.set集合的遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-forEach%E6%96%B9%E6%B3%95"><span class="toc-number">1.18.7.</span> <span class="toc-text">7.forEach方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-filter%E6%96%B9%E6%B3%95"><span class="toc-number">1.18.8.</span> <span class="toc-text">8.filter方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.18.8.0.1.</span> <span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">1.18.8.0.2.</span> <span class="toc-text">数组去重</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4%E9%9B%86%EF%BC%8C%E5%B9%B6%E9%9B%86%EF%BC%8C%E5%B7%AE%E9%9B%86"><span class="toc-number">1.18.8.0.3.</span> <span class="toc-text">交集，并集，差集</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A0%E6%95%B0"><span class="toc-number">1.18.8.0.4.</span> <span class="toc-text">素数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E7%9A%84Map%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">1.19.</span> <span class="toc-text">ES6的Map基本用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-has-%E6%9F%A5"><span class="toc-number">1.19.0.1.</span> <span class="toc-text">1.has() 查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-delete-%E5%88%A0"><span class="toc-number">1.19.0.2.</span> <span class="toc-text">2.delete() 删</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-clear-%E6%B8%85%E7%A9%BA"><span class="toc-number">1.19.0.3.</span> <span class="toc-text">3.clear() 清空</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-map%E9%9B%86%E5%90%88%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E7%BB%84"><span class="toc-number">1.19.0.4.</span> <span class="toc-text">4.map集合转换成数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-map%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.19.0.5.</span> <span class="toc-text">5.map集合的遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%92%8C%E7%BB%93%E6%9E%84%E8%B5%8B%E5%80%BC%E8%BF%9B%E8%A1%8C%E7%BB%93%E5%90%88"><span class="toc-number">1.19.0.6.</span> <span class="toc-text">6.和结构赋值进行结合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-fotEach-%E9%81%8D%E5%8E%86"><span class="toc-number">1.19.0.7.</span> <span class="toc-text">7.fotEach 遍历</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86"><span class="toc-number">1.20.</span> <span class="toc-text">函数处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8Promise%E8%A7%A3%E5%86%B3%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B"><span class="toc-number">1.20.1.</span> <span class="toc-text">1.使用Promise解决异步编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E7%94%A8promise%E7%9A%84than%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.1.1.</span> <span class="toc-text">调用promise的than方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8Promise%E5%B0%81%E8%A3%85ajax"><span class="toc-number">1.20.2.</span> <span class="toc-text">2.使用Promise封装ajax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-then%E5%92%8Ccatch"><span class="toc-number">1.20.3.</span> <span class="toc-text">3.then和catch</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Promise-prototype-then-%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.3.1.</span> <span class="toc-text">1.Promise.prototype.then()方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Promise-prototype-catch-%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.3.2.</span> <span class="toc-text">2.Promise.prototype.catch()方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Promise%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.4.</span> <span class="toc-text">4.Promise的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#all%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.4.1.</span> <span class="toc-text">all方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#race-%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.4.2.</span> <span class="toc-text">race 方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-async%E5%92%8Cawait"><span class="toc-number">1.20.5.</span> <span class="toc-text">5.async和await</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#async%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.20.5.1.</span> <span class="toc-text">async关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#await%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.20.5.2.</span> <span class="toc-text">await关键字</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-extends%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.20.6.</span> <span class="toc-text">6.extends关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-generator%E5%92%8Cyield%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.20.7.</span> <span class="toc-text">7.generator和yield表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AFgenerator%E5%87%BD%E6%95%B0"><span class="toc-number">1.20.7.1.</span> <span class="toc-text">1.什么是generator函数?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-generator%E8%AF%AD%E6%B3%95"><span class="toc-number">1.20.7.2.</span> <span class="toc-text">2.generator语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-generator%E5%87%BD%E6%95%B0%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.20.7.3.</span> <span class="toc-text">3.generator函数的特性:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-next%E8%A2%AB%E8%B0%83%E7%94%A8%E4%B9%8B%E5%90%8E%E7%9A%84%E8%BF%90%E8%A1%8C%E9%80%BB%E8%BE%91"><span class="toc-number">1.20.7.4.</span> <span class="toc-text">4.next被调用之后的运行逻辑:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-yield%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.20.7.5.</span> <span class="toc-text">5.yield表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-yield-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.20.7.6.</span> <span class="toc-text">6.yield*表达式的作用</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/10/29/JS/" title="JavaScript"><img src="/./img/8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript"/></a><div class="content"><a class="title" href="/2022/10/29/JS/" title="JavaScript">JavaScript</a><time datetime="2022-10-29T06:22:29.547Z" title="发表于 2022-10-29 14:22:29">2022-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/29/ES6/" title="ES6"><img src="/./img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ES6"/></a><div class="content"><a class="title" href="/2022/10/29/ES6/" title="ES6">ES6</a><time datetime="2022-10-29T06:22:29.086Z" title="发表于 2022-10-29 14:22:29">2022-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/14/%E8%B7%A8%E7%AB%AF%E6%8A%80%E6%9C%AF/" title="跨端技术"><img src="/./img/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跨端技术"/></a><div class="content"><a class="title" href="/2022/10/14/%E8%B7%A8%E7%AB%AF%E6%8A%80%E6%9C%AF/" title="跨端技术">跨端技术</a><time datetime="2022-10-14T04:30:36.305Z" title="发表于 2022-10-14 12:30:36">2022-10-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/14/%E5%89%8D%E7%AB%AF%E4%BD%93%E9%AA%8C/" title="前端体验"><img src="/./img/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端体验"/></a><div class="content"><a class="title" href="/2022/10/14/%E5%89%8D%E7%AB%AF%E4%BD%93%E9%AA%8C/" title="前端体验">前端体验</a><time datetime="2022-10-14T04:30:36.304Z" title="发表于 2022-10-14 12:30:36">2022-10-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/14/%E5%A4%9A%E6%A0%B7%E5%8C%96/" title="多样化"><img src="/./img/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多样化"/></a><div class="content"><a class="title" href="/2022/10/14/%E5%A4%9A%E6%A0%B7%E5%8C%96/" title="多样化">多样化</a><time datetime="2022-10-14T04:30:36.304Z" title="发表于 2022-10-14 12:30:36">2022-10-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/./img/7.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 麻烦顾</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">永远相信美好的事情即将发生！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>